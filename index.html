<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lucky</title>
</head>
<body>
    <span>X100</span>
    <br>
    <input type="number" placeholder="giá tx" id="giaTX" autofocus>
    <input type="number" placeholder="giá trên" id="giaTren">
    <input type="number" placeholder="giá đưới" id="giaDuoi"  onfocusout="lucky()">
    <br>
    <input id="lucky" style="color: red; border:none; font-size: 30px;"></input>

    <script>
        window.onload = function()
        {
            document.getElementById("giaTX").click();
        };

        function lucky() {
            let g = Number.parseInt(document.getElementById("giaTX").value);
            let t = Number.parseInt(document.getElementById("giaTren").value);
            let d = Number.parseInt(document.getElementById("giaDuoi").value);
            if (t<0)
                t+=200;
            if (d<0)
                d+=200;
            let s=t/(d+t);
            t=((1-s)+1)*g;
            d=(1-s)*g;
            
            let tren=Math.round(t);
            let duoi=Math.round(d);
            let kq = Math.floor(Math.random() * (tren - duoi) ) + duoi;
            document.getElementById("lucky").value = kq < g ? "Dưới" : kq > g ? "Trên" : "Hòa";
            document.getElementById("giaTX").value = "";
            document.getElementById("giaTren").value = "";
            document.getElementById("giaDuoi").value = "";
            document.getElementById("giaTX").focus();
        }
    </script>
</body>
</html>